{"version":3,"file":"user.js","sources":["store/modules/user.js"],"sourcesContent":["const state = {\n  userInfo: null,\n  isLogin: false,\n  userStats: {\n    posts: 0,\n    likes: 0,\n    followers: 0,\n    following: 0,\n    points: 0,\n    level: 1\n  }\n}\n\nconst mutations = {\n  SET_USER_INFO(state, userInfo) {\n    state.userInfo = userInfo\n    state.isLogin = !!userInfo\n  },\n  \n  UPDATE_USER_STATS(state, stats) {\n    state.userStats = { ...state.userStats, ...stats }\n  },\n  \n  LOGOUT(state) {\n    state.userInfo = null\n    state.isLogin = false\n  }\n}\n\nconst actions = {\n  setUserInfo({ commit }, userInfo) {\n    commit('SET_USER_INFO', userInfo)\n    wx.setStorageSync('userInfo', userInfo)\n  },\n  \n  logout({ commit }) {\n    commit('LOGOUT')\n    wx.removeStorageSync('userInfo')\n  },\n  \n  async getUserInfo({ commit }) {\n    try {\n      const userInfo = wx.getStorageSync('userInfo')\n      if (userInfo) {\n        commit('SET_USER_INFO', userInfo)\n      }\n    } catch (error) {\n      console.error('获取用户信息失败:', error)\n    }\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}"],"names":["state","wx","uni"],"mappings":";;AAAA,MAAM,QAAQ;AAAA,EACZ,UAAU;AAAA,EACV,SAAS;AAAA,EACT,WAAW;AAAA,IACT,OAAO;AAAA,IACP,OAAO;AAAA,IACP,WAAW;AAAA,IACX,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,OAAO;AAAA,EACR;AACH;AAEA,MAAM,YAAY;AAAA,EAChB,cAAcA,QAAO,UAAU;AAC7B,IAAAA,OAAM,WAAW;AACjB,IAAAA,OAAM,UAAU,CAAC,CAAC;AAAA,EACnB;AAAA,EAED,kBAAkBA,QAAO,OAAO;AAC9B,IAAAA,OAAM,YAAY,EAAE,GAAGA,OAAM,WAAW,GAAG,MAAO;AAAA,EACnD;AAAA,EAED,OAAOA,QAAO;AACZ,IAAAA,OAAM,WAAW;AACjB,IAAAA,OAAM,UAAU;AAAA,EACjB;AACH;AAEA,MAAM,UAAU;AAAA,EACd,YAAY,EAAE,OAAQ,GAAE,UAAU;AAChC,WAAO,iBAAiB,QAAQ;AAChCC,uBAAG,eAAe,YAAY,QAAQ;AAAA,EACvC;AAAA,EAED,OAAO,EAAE,UAAU;AACjB,WAAO,QAAQ;AACfA,kBAAE,KAAC,kBAAkB,UAAU;AAAA,EAChC;AAAA,EAED,MAAM,YAAY,EAAE,UAAU;AAC5B,QAAI;AACF,YAAM,WAAWA,cAAAA,KAAG,eAAe,UAAU;AAC7C,UAAI,UAAU;AACZ,eAAO,iBAAiB,QAAQ;AAAA,MACjC;AAAA,IACF,SAAQ,OAAO;AACdC,oBAAAA,oDAAc,aAAa,KAAK;AAAA,IACjC;AAAA,EACF;AACH;AAEA,MAAe,OAAA;AAAA,EACb,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AACF;;"}